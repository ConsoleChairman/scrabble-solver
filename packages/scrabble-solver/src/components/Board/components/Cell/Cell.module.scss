@import 'styles/mixins';

@mixin lighthouse-input-size-hack {
  // Hack for this Lighthouse warning:
  // > Interactive elements like buttons and links should be large enough (48x48px), and have
  // > enough space around them, to be easy enough to tap without overlapping onto other elements.

  input {
    position: absolute;
    top: -100%;
    right: -100%;
    left: -100%;
    bottom: -100%;
    width: 300%;
    height: 300%;
    clip-path: inset((100% / 3));
  }

  [dir='ltr'] & {
    &:nth-child(15n + 1),
    &:nth-child(15n + 2),
    &:nth-child(15n + 3) {
      input {
        left: 0;
        clip-path: polygon(0 (100% / 3), (100% / 3) (100% / 3), (100% / 3) (200% / 3), 0 (200% / 3));
      }
    }

    &:nth-last-child(15n + 1),
    &:nth-last-child(15n + 2),
    &:nth-last-child(15n + 3) {
      input {
        left: -200%;
        clip-path: polygon((200% / 3) (100% / 3), 100% (100% / 3), 100% (200% / 3), (200% / 3) (200% / 3));
      }
    }
  }

  [dir='rtl'] & {
    &:nth-child(15n + 1),
    &:nth-child(15n + 2),
    &:nth-child(15n + 3) {
      input {
        left: -200%;
        right: 0;
        clip-path: polygon((200% / 3) (100% / 3), 100% (100% / 3), 100% (200% / 3), (200% / 3) (200% / 3));
      }
    }

    &:nth-last-child(15n + 1),
    &:nth-last-child(15n + 2),
    &:nth-last-child(15n + 3) {
      input {
        left: 0;
        right: -200%;
        clip-path: polygon(0 (100% / 3), (100% / 3) (100% / 3), (100% / 3) (200% / 3), 0 (200% / 3));
      }
    }
  }
}

.tile {
  @include lighthouse-input-size-hack;

  &.sharpTopLeft {
    [dir='ltr'] & {
      border-top-left-radius: 0;
    }

    [dir='rtl'] & {
      border-top-right-radius: 0;
    }
  }

  &.sharpTopRight {
    [dir='ltr'] & {
      border-top-right-radius: 0;
    }

    [dir='rtl'] & {
      border-top-left-radius: 0;
    }
  }

  &.sharpBottomLeft {
    [dir='ltr'] & {
      border-bottom-left-radius: 0;
    }

    [dir='rtl'] & {
      border-bottom-right-radius: 0;
    }
  }

  &.sharpBottomRight {
    [dir='ltr'] & {
      border-bottom-right-radius: 0;
    }

    [dir='rtl'] & {
      border-bottom-left-radius: 0;
    }
  }

  &:focus-within {
    z-index: 2;
  }
}
